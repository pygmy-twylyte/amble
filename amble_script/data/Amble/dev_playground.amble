# ========================================
# Development Playground
# ========================================

# This file serves as a place to try new features or ideas without disturbing the main game source.

item big_red_button {
    name "Big Red Button"
    desc "It's big, it's red, and it's a button! Press or touch it!"
    portable false
    location room high-ridge
}

item big_blue_button {
    name "Big Blue Button"
    desc "It's big, it's blue, and it's a button! Press away!"
    portable false
    location room high-ridge
}

item cheat_button {
    name "Cheat Button!"
    desc "Press this button to move this room to the final objective!"
    portable false
    location room high-ridge
}

trigger "Cheat Mode" when touch item cheat_button {
    do show "Morphed the room into an endgame backdoor!"
    do modify room high-ridge {
        name "AA-3B Back Entrance"
        desc "Where there used to be a High Isolated Ridge around you, there is now a blank white room with a door marked 'WIN!'"
        remove exit parish-landing
        add exit "win the game" -> room-aa-3b {
            required_items(no_cake),
            barred "You must hold no cake to fathom Room AA-3B's mysteries."
        }
    }
}


npc the_luggage {
    name "The Luggage"
    desc "A large chest with dozens of legs, layered sharp teeth around its lid, and a strong tendency to violence."
    location nowhere "spawns at high ridge for testing"
    dialogue normal {
        "(stares at you with menace)"
    }
}

trigger "Big Red Button Pushed"
note "test for the touch item command/event -- works!"
when touch item big_red_button {
    do show "Always never press the big red button! Now look what you've done!"
    do spawn npc the_luggage into room high-ridge
    do modify item big_blue_button {
        name "Big Green Button"
        desc "A big GREEN button, just waiting for you to press it."
        text "This used to be a blue button."
        add ability Read
        add ability Unlock(big_red_button)
        container state off
    }
}

trigger "Big Blue Button Pushed"
note "test modify npc"
when touch item big_blue_button {
    do show "Modifying the Luggage..."
    do modify npc the_luggage {
        name "Hungry Luggage"
        desc "The Luggage is ravenous! Beware!!"
        state custom(hungry)
        add line "(The Luggage nearly bites your face off when you approach.)" to state custom(hungry)
        random rooms (high-ridge, ice-pit, lounge)
        timing every 2 turns
        active true
        loop true
    }
}
