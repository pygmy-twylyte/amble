# Generated by amble_script from amble_script/data/Seaside (5 files)
# Do not edit: this file is compiled from DSL.
# Source Hash (fnv64): 8cfeda7b1df72ce3

# trigger Locket Taken (source line 31)
[[triggers]]
name = "Locket Taken"
only_once = true
conditions = [{ type = "take", item_id = "gold_locket" }]
actions = [{ type = "awardPoints", amount = 10 }, { type = "addFlag", flag = { type = "sequence", name = "return-locket", end = 4 } }, { type = "showMessage", text = "You loop the locket back through its chain to free it from the rope. It feels familiar in your hand, somehow." }, { type = "setItemDescription", item_sym = "gold_locket", text = "The gold locket you found looped over the rope railing on the lighthouse path. It isn't very worn, but somehow feels familiar in your hand." }, { type = "scheduleInIf", turns_ahead = 3, condition = { type = "hasItem", item_id = "gold_locket" }, on_false = { type = "retryNextTurn" }, actions = [{ type = "showMessage", text = "You notice a beautiful, heron-like bird circling close by." }, { type = "scheduleInIf", turns_ahead = 3, condition = { type = "hasItem", item_id = "gold_locket" }, on_false = { type = "retryNextTurn" }, actions = [{ type = "showMessage", text = "You notice the heron again, gliding easily on the wind gusts toward the quay square." }, { type = "scheduleInIf", turns_ahead = 3, condition = { all = [{ type = "hasItem", item_id = "gold_locket" }, { type = "inRoom", room_id = "quay-square" }] }, on_false = { type = "retryNextTurn" }, actions = [{ type = "showMessage", text = "The beautiful seabird that's been following you lands on a nearby lamppost carrying something in its beak. After a moment, it drops it at your feet before soaring off over the quay and back into the harbor." }, { type = "spawnItemInRoom", item_id = "tiny_package", room_id = "quay-square" }], note = "heron box delivery" }], note = "second heron sighting" }], note = "first heron sighting" }]
# trigger Dropped Locket (source line 53)
[[triggers]]
name = "Dropped Locket"
conditions = [{ type = "drop", item_id = "gold_locket" }]
actions = [{ type = "showMessage", text = "The moment you drop the locket, you begin to miss it -- and feel like you've **been** missing it for a long time." }]
# trigger Picked Up Locket Again (source line 57)
[[triggers]]
name = "Picked Up Locket Again"
conditions = [{ type = "take", item_id = "gold_locket" }, { type = "flagInProgress", flag = "return-locket" }]
actions = [{ type = "showMessage", text = "You feel better now that you have the locket back in your hand, like your best and oldest friend." }]
