# EXTERIOR START AREA "ROOMS"
[[rooms]]
id = "high-ridge"
name = "High Isolated Ridge"
location = "Nowhere"
visited = true
base_description = "A small, flat ridge in the midst of a steeply sloped wooded area. Probably west of something, depending on how you're oriented.\n\nSome rough stairs carved into the slope curve upward into the trees."

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "cleaned-plaque-1" }]
text = "Near the bottom of the stairs stands an impressive, intricately sculpted pillar bearing a plaque tarnished with age and forest grime."

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "cleaned-plaque-1" }]
text = "You're occasionally blinded by a flash of sunlight reflected from the freshly cleaned plaque."

[rooms.exits.up]
to = "parish-landing"

# ---------------------------------------------------------------------------
[[rooms]]
id = "parish-landing"
name = "Parish Landing"
base_description = "A small plateau carved into the hillside, marked by an old wooden sign that reads: 'Pilgrims Welcome â€“ Pancakes Served Daily (Terms and Conditions Apply)'. A faded poster nailed beside it shows a smiling Saint Alfonzo wielding a spatula like a holy relic.\n\nFrom here, the steps curve gently upward to another distant landing. A modest trail leads west toward a nearby parish."
location = "Nowhere"

[rooms.exits.down]
to = "high-ridge"

[rooms.exits.west]
to = "st-alfonzo-parish"

[rooms.exits.up]
to = "two-sheds-landing"

# -----------------------------------------------------------------------------
[[rooms]]
id = "st-alfonzo-parish"
name = "Parish of Saint Alfonzo"

base_description = "The parish resembles a half-abandoned diner and half-absolved church, complete with stained glass windows depicting breakfast foods in heroic poses. The air smells faintly of syrup and tobacco.\n\nA refrigerated pedestal in the corner hums solemnly. On it rests a lone tub of margarine bearing the label: 'Nanook's Finest'. A hymn board near the door lists this weekâ€™s sermon: 'On the Sanctity of the Short Stack.'"

location = "Nowhere"
visited = false

[rooms.exits.east]
to = "parish-landing"

# ---------------------------------------------------------------------------
[[rooms]]
id = "two-sheds-landing"
name = "Jackson's Landing"
base_description = "A quiet landing tucked along the slope, with a rusted mailbox labeled 'A. Jackson' standing to one side. A trail sign points east toward something optimistically named 'Two Sheds'. Underneath, someone has scratched in: 'Technically One.'"
location = "Nowhere"
visited = false

[[rooms.overlays]]
conditions = [{ type = "itemPresent", item_id = "fallen_tree" }]
text = "A huge tangle of limbs and branches from a fallen tree block the path continuing upward."

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "chopped-fallen-tree" }]
text = "Cut branches of a fallen tree are piled to the side of the path upward."

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "burned-fallen-tree" }]
text = "Charred twigs and smoldering ash are all that remain of the fallen tree."

[rooms.exits.up]
to = "guard-post"
required_flags = [{ type = "simple", name = "cleared-fallen-tree" }]
barred_message = "You'll need to find a way to clear the tree from the path first."

[rooms.exits.down]
to = "parish-landing"

[rooms.exits.east]
to = "two-sheds"

# ---------------------------------------------------------------------------
[[rooms]]
id = "two-sheds"
name = "Two Sheds"

base_description = "A modest wooden shed stands alone in the clearing. It appears freshly painted and surprisingly well cared for. A plaque on the door reads:\n\n        'ARTHUR \"TWO SHEDS\" JACKSON\n         Philosopher, Composer, Owner of One Shed'\n\nA second, smaller foundation lies nearby, overgrown with weeds. A broken signpost beside it reads: 'Future Site of Shed #2 â€“ Delayed Indefinitely.' A few forgotten tools sit on the ground nearby."

location = "Nowhere"
visited = false

[rooms.exits.west]
to = "two-sheds-landing"

# ---------------------------------------------------------------------------
[[rooms]]
id = "guard-post"
name = "Guard Post"

base_description = "A small stone guard post clings to the side of the trail, complete with a creaky wooden chair and a megaphone labeled 'USE ONLY IF VERY SURE'. A faded official-looking placard reads:\n\n'NOTICE: Passage beyond this point may lead to anachronism.'\n\nIt seems no oneâ€™s been stationed here in quite some time. The trail continues upward, leading to what appears to be an ancient roadâ€”and a distinctly non-ancient office park."

location = "Nowhere"
visited = false

[rooms.exits.up]
to = "inca-road"

[rooms.exits.down]
to = "two-sheds-landing"

# ---------------------------------------------------------------------------
[[rooms]]
id = "inca-road"
name = "Inca Road"

base_description = "An ancient road of broken and uneven stones winds precariously along the mountainside, half-swallowed by time and weeds. South of here, a river's rocky rapid rushes westward through the gorge.\n\nTo the north lies a trim, modern lawn with an improbably square footprint. It leads up to a squat commercial building that seems to have landed here by accident."

location = "Nowhere"

[rooms.exits.north]
to = "front-entrance"

[rooms.exits.down]
to = "guard-post"

# ---------------------------------------------------------------------------
# START AMBLE ADVENTURES OFFICE EXTERIOR
[[rooms]]
id = "front-entrance"
name = "Front Entrance"
location = "Nowhere"
visited = false

base_description = "Potted plants flank a plain, darkened glass door on the front of the building to the north. As you approach the door, a security eye-bot mounted above it mutters judgementally as it scans you. A sign above it reads:\n\n                       \"Always Know Where Your Towel Is\"\n\nPaved paths lead around the building to the east and west."

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "got-towel" }]
text = "After a few moments, the eye-bot's iris turns red, and it points at the sign above."

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "got-towel" }]
text = "Finished scanning, the eye-bot's iris glows green. The doors unlatch and open slightly."

[rooms.exits.north]
to = "main-lobby"
required_flags = [{ type = "simple", name = "got-towel" }]
barred_message = "Not so fast. Do you know where your towel is?"

[rooms.exits.south]
to = "inca-road"

[rooms.exits.west]
to = "snowfield"

[rooms.exits.east]
to = "east-of-building"

# ---------------------------------------------------------------------------
[[rooms]]
id = "snowfield"
name = "Desolate Snowfield"

base_description = "You find yourself in a wide, desolate snowfield west of the main building -- which is odd, because you still see summery woodlands just yards away, with a clean line separating the two climates. Wind howls across the ice, and powdery drifts swirl around a dark pit. Nearby, a large husky dog watches you intently. It doesnâ€™t growl, but it doesnâ€™t blink either."

location = "Nowhere"
visited = false

[rooms.exits.northeast]
to = "loading-dock"

[rooms.exits.southeast]
to = "front-entrance"

[rooms.exits.west]
to = "snow-camp"

# ---------------------------------------------------------------------------
[[rooms]]
id = "snow-camp"
name = "Abandoned Campsite"
base_description = "The remains of a temporary shelter are dug into a snowbank here. The tent has collapsed, half-fused to a scorched sled. The river â€” or some frozen remnant of it â€” glistens beyond."
location = "Nowhere"
visited = false

[rooms.exits.east]
to = "snowfield"

# ---------------------------------------------------------------------------
[[rooms]]
id = "loading-dock"
name = "Useless Loading Dock"

base_description = "The so-called loading dock juts ten feet *above* the ground, with no ramp, stairs, or apparent means of access and a loading door thirty feet wide and ten inches tall. A conveyor belt runs from the building wall to the edge of the dock, then loops straight back in again without touching anything.\n\nA bronze plaque proudly identifies this as a **Bloody Stupid Johnson** project:\n'Winner of the 3rd Prize for Architectural Enthusiasm, 1973.'\n\nIt's unclear what this office ever needed to loadâ€”or who would deliver to the side of a remote building halfway up a mountain."

location = "Nowhere"
visited = false

[rooms.exits.southeast]
to = "east-of-building"

[rooms.exits.southwest]
to = "snowfield"

# ---------------------------------------------------------------------------
[[rooms]]
id = "east-of-building"
name = "East of Building"

base_description = "Youâ€™re east of the building now, facing a patch of ornamental gravel and a struggling yucca plant. The air here smells faintly of ozone and buttered lobster, though the source is unclear.\n\nThe side of the building appears to be a normal wall, but you keep glimpsing something that looks like -- patio umbrellas? -- from the corner of your eye. You briefly wonder if the building is bending space or if your sense of geography is just feeling shy.\n\nThe walkway wraps around the building to the northwest and southwest."

location = "Nowhere"
visited = false

[rooms.exits.northwest]
to = "loading-dock"

[rooms.exits.southwest]
to = "front-entrance"


# ---------------------------------------------------------------------------
# START AMBLE ADVENTURES OFFICE BUIDLING INTERIOR
[[rooms]]
id = "main-lobby"
name = "Main Lobby"
location = "Nowhere"
visited = false
base_description = "The lobby is clinically clean in a way that feels suspicious. A slightly humming vending machine stands beside an empty receptionist's desk bearing a dusty nameplate that reads, in Comic Sans: 'WELCOME TEMPORARY LIFEFORM'. A softly glowing sign on the north wall reads 'Elevator Access', while arrows on the east and west walls point toward other destinations with little enthusiasm."

[[rooms.overlays]]
conditions = [
    { type = "npcPresent", npc_id = "gonk_droid" },
    { type = "npcInState", npc_id = "gonk_droid", state = "normal" },
]
text = "A gonk droid stands idle in the corner, muttering to itself and tottering in circles."

[[rooms.overlays]]
conditions = [
    { type = "npcPresent", npc_id = "gonk_droid" },
    { type = "npcInState", npc_id = "gonk_droid", state = "happy" },
]
text = "The gonk droid gonks a happy tune in the corner, charging the battery you gave it."

[rooms.exits.north]
to = "lift-bank-main"

[rooms.exits.south]
to = "front-entrance"

[rooms.exits.east]
to = "restaurant"

[rooms.exits.west]
to = "b-a-office"

# ---------------------------------------------------------------------------
[[rooms]]
id = "b-a-office"
name = "Amble Adventures Office"
location = "Nowhere"
visited = false
base_description = "The office of Amble Adventures, a wholly disowned subsidiary of Brains Anonymousâ„¢, is a shrine to barely-funded creativity. Faded posters of games that were never released adorn the walls, including one titled 'PONG Construction Set 3000'. A sagging ficus looms in the corner like itâ€™s been through something. An Initechâ„¢ Poetry Performer plays possum in another corner, hoping you don't notice it."
[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "panic-room-open" }]
text = """A floor-to-ceiling whiteboard on the west wall boasts an impressive flowchart titled "Planning to Plan"."""

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "panic-room-open" }]
text = """The "Planning to Plan" whiteboard has parted to reveal a heavy, vault-like door set into the west wall."""

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "got-visitor-pass" }]
text = """A receptionist sits behind a tidy desk adorned with figurines of Portal turrets and companion cubes -- pointedly ignoring you."""

[[rooms.overlays]]
conditions = [{ type = "playerHasItem", item_id = "invitation" }]
text = "The receptionist appears to be trying furtively to see what you have in your pack."

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "got-visitor-pass" }]
text = "The receptionist looks up from her desk and gives you an awkward wink and a grin."

[rooms.exits.east]
to = "main-lobby"

[rooms.exits.north]
to = "supply-closet"

# ---------------------------------------------------------------------------
[[rooms]]
id = "lift-bank-main"
name = "Elevator Bank"
location = "Nowhere"
visited = false
base_description = "A bank of elevators waits here, none of which seem eager to go anywhere. One of them is open and labeled 'MAIN LIFT' in glowing teal script.  To the east, a door marked 'LOUNGE' is just slightly ajar, as if luring you to come in."

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "got-elevator-keycard" }]
text = """The proximity card reader next to the lift displays: ACCESS DENIED. With no sympathy whatsoever."""

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "got-elevator-keycard" }]
text = """The proximity card reader next to the lift now somewhat sheepishly displays: ACCESS GRANTED."""

[[rooms.overlays]]
conditions = [
    { type = "npcPresent", npc_id = "gonk_droid" },
    { type = "npcInState", npc_id = "gonk_droid", state = "normal" },
]
text = "A gonk droid pokes at the elevator call panel, emitting perplexed gonks."

[[rooms.overlays]]
conditions = [
    { type = "npcPresent", npc_id = "gonk_droid" },
    { type = "npcInState", npc_id = "gonk_droid", state = "happy" },
]
text = "The gonk droid hums a cheerful gonk as it watches the lift lights blink."

[rooms.exits.north]
to = "lift-main"

[rooms.exits.east]
to = "lounge"

[rooms.exits.south]
to = "main-lobby"

# ---------------------------------------------------------------------------
[[rooms]]
id = "lift-main"
name = "Elevator (Ground Floor)"
location = "Nowhere"
visited = false
base_description = "The elevator interior is surprisingly luxurious -- polished chrome panels, soft lighting, and a faint scent of something that might be vanilla or data corruption."

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "got-elevator-keycard" }]
text = """There are only two buttons: [main] is lit, but [aa-3] is dark."""

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "got-elevator-keycard" }]
text = """The [main] and [aa-3] buttons are both lit."""

[rooms.exits.main]
to = "lift-bank-main"

[rooms.exits.aa-3]
to = "lift-sublevel-1"
required_items = ["visitor_pass", "elevator_keycard"]
barred_message = """That button is disabled. Visitor pass and proximity card required for access."""

# ---------------------------------------------------------------------------
[[rooms]]
id = "lounge"
name = "Lounge"
location = "Nowhere"
visited = false
base_description = "A small space to relax, with a sofa, a few magazines, and part of a jigsaw puzzle. A tarry substance slowly bubbles in the bottom of a coffee carafe."
[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "found-portal-room" }]
text = "A trap door in the floor reveals a ladder down to a room below."

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "found-portal-room" }]
text = "An ornate rug lies in the center of the room. It really ties the room together."

[[rooms.overlays]]
conditions = [
    { type = "npcPresent", npc_id = "gonk_droid" },
    { type = "npcInState", npc_id = "gonk_droid", state = "normal" },
]
text = "A gonk droid loiters by the coffee carafe, muttering soft gonks."

[[rooms.overlays]]
conditions = [
    { type = "npcPresent", npc_id = "gonk_droid" },
    { type = "npcInState", npc_id = "gonk_droid", state = "happy" },
]
text = "The gonk droid gonk-gonks an upbeat rhythm beside the sofa."

[rooms.exits.west]
to = "lift-bank-main"

# ---------------------------------------------------------------------------
[[rooms]]
id = "portal-room"
name = "Portal Room"
location = "Nowhere"
visited = false
base_description = "A bare white room with a white tile floor. A ladder leads back up through the trap door in the ceiling. Three of the four walls are used as whiteboards, littered with obscure diagrams and equations. In the center, a black and white Portal gun is affixed to a pedestal and aimed squarely at the fourth wall."

[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "portal-opened" }]
text = """A bullseye adorns the fourth, otherwise blank wall. A photo of a watch-sized computer attached to a potato battery is taped in the center, for some reason."""

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "portal-opened" }]
text = """There is a sparkling blue portal in the fourth wall, with a view to a laboratory space beyond. A bit of smoke drifts in from the portal."""

[rooms.exits.ladder]
to = "lounge"

# exit to aperture-lab created here after the portal gun is fired

# ---------------------------------------------------------------------------
[[rooms]]
id = "aperture-lab"
name = "Aperture Science Laboratory"
location = "Nowhere"
visited = false

base_description = "The unnaturally whiteâ€”walls, floor, ceiling, even the air here feels clinical and overexposed. Everything hums at a frequency designed to encourage strict compliance. A single console blinks on a table beside a highly over-engineered printer labeled \"Aperture Science Hospitality Generator.\""

[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "burned-invitation" }]
text = "A smoky haze and the lingering smell of burned paper permeate the room."

[rooms.exits.portal]
to = "portal-room"

# ---------------------------------------------------------------------------
[[rooms]]
id = "restaurant"
name = "Restaurant at the End of the Universe"
base_description = "Soft jazz wafts through invisible speakers, accompanied by the occasional sound of imploding galaxies. A tasteful sign declares this to be the Restaurant at the End of the Universe, though it appears to be between dinner rushes. Tables float slightly above the ground and rearrange themselves when you're not looking. A host's podium displays a reservation list. Restrooms lie to the south bearing a sign in fancy script reading:\n\n                             VIP PAN-SPECIES RESTROOM\n                       (must possess visitor pass to enter)\n\nPatio seating stretches farther east."

location = "Nowhere"
visited = false

[rooms.exits.west]
to = "main-lobby"

[rooms.exits.east]
to = "patio"

[rooms.exits.south]
to = "vip-bathroom"
required_items = ["visitor_pass"]
barred_message = """The door apologizes profusely for refusing to open, explaining that it's forced by programming not to let you in without a visitor's pass."""

# ---------------------------------------------------------------------------
[[rooms]]
id = "vip-bathroom"
name = "VIP Bathroom"
base_description = "Blinding white tile and pristine mirrors make it almost seem like this pan-gender, pan-species bathroom has never been used, but a lingering asparagus odor suggests otherwise."
location = "Nowhere"
visited = false

[rooms.exits.north]
to = "restaurant"

# ---------------------------------------------------------------------------
[[rooms]]
id = "patio"
name = "Restaurant Patio"
base_description = "The patio overlooks nothing in particularâ€”just an endless starfield gently swirling beyond a transparent force field. A few metal tables are bolted to the floor, and one of them has a half-empty cocktail glass slowly un-drinking itself. A sign near the edge reads: 'No Leaning Beyond This Point. You have been warned.'"

location = "Nowhere"
visited = false

[rooms.exits.west]
to = "restaurant"

# ---------------------------------------------------------------------------
[[rooms]]
id = "poetry-panic"
name = "Poetry Panic Room"
base_description = "A concrete and titanium vacuum-sealed room equipped with noise generators, active voice-cancelling harmonics and Cone of Silence technology. A seal by the door proudly states that the chamber is almost completely Vogon poetry-proof."

location = "Nowhere"
visited = false

[rooms.exits.east]
to = "b-a-office"

# ---------------------------------------------------------------------------
[[rooms]]
id = "lift-sublevel-1"
name = "Elevator (Sublevel 1)"
base_description = "The elevator sits open at the end of the corridor, but its appearance isâ€¦ altered. What was once a sleek, polished carriage now seems borrowed from another world entirely. Gilded scrollwork curls along the walls where none existed before, and the ceiling flickers between brass panels and a starlit void. It hums with potentialâ€”and something less easily named."

location = "Nowhere"
visited = false

[rooms.exits.main]
to = "lift-main"

[rooms.exits.south]
to = "sublevel-1-entrance"

# ---------------------------------------------------------------------------
[[rooms]]
id = "sublevel-1-entrance"
name = "Entrance to Sublevel One"
location = "Nowhere"
visited = false
base_description = "A small landing area covered in dust. Buckets, tools, and debris are strewn about the floor. The door to the west is labeled with a sign:\n\n                        ðŸš§ ROOM AA-3B ðŸš§\n                 FICTIONAL UNIVERSE CONTAINMENT"

[[rooms.overlays]]
conditions = [
    { type = "npcInState", npc_id = "black_knight", state = "normal" },
]
text = """The Black Knight stands in your path, staring you down, leaning on his battered longsword."""

[[rooms.overlays]]
conditions = [{ type = "npcInState", npc_id = "black_knight", state = "mad" }]
text = """Agitated, the Black Knight sidesteps around the room, occasionally lunging at you to grab at his sword or kick you in the shin."""

[[rooms.overlays]]
conditions = [{ type = "npcInState", npc_id = "black_knight", state = "happy" }]
text = """The Black Knight stands in a corner, helmet off, gleefully plucking hairs from his beard and splitting them with his sword."""

[rooms.exits.north]
to = "lift-sublevel-1"

[rooms.exits.west]
to = "room-aa-3b"
required_flags = [
    { type = "simple", name = "appeased-black-knight" },
    { type = "simple", name = "touched-monolith" },
]
barred_message = """The Black Knight blocks your way."""

[rooms.exits.east]
to = "security-station"
required_flags = [{ type = "simple", name = "appeased-black-knight" }]
barred_message = """The Black Knight blocks your way.
"""

[rooms.exits.south]
to = "corridor-north"
required_flags = [{ type = "simple", name = "appeased-black-knight" }]
barred_message = """The Black Knight blocks your way.
"""

# -----------------------------------------------------------------------------
[[rooms]]
id = "supply-closet"
name = "Supply Closet"
base_description = "A small closet lit by a bare bulb being repeatedly rammed by a fluttering moth. Crowded shelves offer paper products, bottles of toner, staples, and other office... ... staples."
location = "Nowhere"
visited = false

[rooms.exits.south]
to = "b-a-office"

# -----------------------------------------------------------------------------
[[rooms]]
id = "room-aa-3b"
name = "Room AA-3B"
base_description = "The door opens into a swirling mass of static and fractured reality. Flickering projections of impossible geometries ripple through the darkness. Objects seem to vanish halfway through existing. A guttural voice whispers paradoxes from the walls themselves. Anyone with a sense of self-preservation should probably leave immediately.\n\nA small sign by the entrance reads: 'Amble Adventures assumes no responsibility for ontological damage incurred within.'"

location = "Nowhere"
visited = false

[rooms.exits.east]
to = "sublevel-1-entrance"

# -----------------------------------------------------------------------------
[[rooms]]
id = "corridor-north"
name = "Research Corridor (North)"
base_description = "A dimly lit concrete hallway stretches out, lined with emergency lights that flicker like they're deciding whether to stay on. Faint scratching sounds echo through the walls at irregular intervals.\n\nGraffiti on one wall reads: 'THEY NEVER LEFT AA-3B.' A maintenance hatch rattles occasionally, as if something on the other side is trying to remember how to use a doorknob."

location = "Nowhere"
visited = false

[rooms.exits.north]
to = "sublevel-1-entrance"

[rooms.exits.west]
to = "observation-room"

[rooms.exits.east]
to = "med-bay"

[rooms.exits.south]
to = "corridor-south"

# -----------------------------------------------------------------------------
[[rooms]]
id = "observation-room"
name = "Field Observation Room"
base_description = "Thick observation windows, long since spiderwebbed with cracks, overlook what should be Room AA-3Bâ€”but only darkness and occasional flashes of unreality appear beyond. Abandoned swivel chairs and battered clipboards litter the room. A faint smell of burnt ozone hangs in the air.\n\nA console near the glass flickers with a repeating message: 'CONTAINMENT BREACH LOGGED â€“ STATUS: UNRESOLVED.'"

location = "Nowhere"
visited = false

[rooms.exits.east]
to = "corridor-north"

# ------------------------------------------------------------------------------
[[rooms]]
id = "security-station"
name = "AA-3 Security Station"
base_description = "A compact but well-equipped station with reinforced blast doors, a wall of cracked CRT monitors, and a steel locker emblazoned with 'IN CASE OF EMERGENCY, RUN FASTER.' Paperwork is scattered across the floor, including an ominous memo titled 'AA-3B: Risk Management Recommendations.'\n\nA blinking red light on the central console indicates the sublevel is still in lockdown."

location = "Nowhere"
visited = false

[rooms.exits.west]
to = "sublevel-1-entrance"

# -----------------------------------------------------------------------------
[[rooms]]
id = "med-bay"
name = "Med Bay"
location = "Nowhere"
visited = false
base_description = "A clean white infirmary with two bio-beds extending from the back wall, surrounded by a bevy of monitors and robotic surgical tools. One of the machines goes \"Bing!\" every few minutes. A small cleaning robot floats around the room disinfecting things."

[rooms.exits.west]
to = "corridor-north"

# -----------------------------------------------------------------------------

[[rooms]]
id = "corridor-south"
name = "Research Corridor (South)"
location = "Nowhere"
visited = false
base_description = "The research corridor continues here, though the walls are noticeably more patched and hastily reinforced. Warning stripes mark a sealed door to the west, and faint heat shimmers pulse across the floor, as if reality itself is running a fever. Somewhere far too close, a light flickers in time with your heartbeat."

[rooms.exits.north]
to = "corridor-north"

[rooms.exits.west]
to = "monolith-room"

# -----------------------------------------------------------------------------
[[rooms]]
id = "monolith-room"
name = "Monolith Room"
location = "Nowhere"
visited = false
base_description = "The room is stark, dim, and cavernous. A series of industrial floodlights cast long, angled shadows across the centerpiece: a tall, perfectly black monolith that defies reflection. It absorbs light, sound, andâ€”if you stare too longâ€”possibly thought."

# before player first tries to interact with HAL
[[rooms.overlays]]
conditions = [{ type = "flagUnset", flag = "talked-to-hal" }]
text = """A HAL-9000 camera and terminal embedded in the far wall looms dark and silent, but somehow still seems to be watching you."""

# after player speaks to HAL but no modules inserted
[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "talked-to-hal" }]
text = """The red light in HAL-9000's lens glows faintly. Two lights shine next to the CRT display, which remains blank."""

# after player speaks to HAL with one module inserted
[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "hal-reboot#1" }]
text = """Several lights blink slowly on a panel near HAL-9000's camera, whose red light still glows faintly. A few cryptic instructions flicker across the monitor."""

# after player speaks to HAL with two modules inserted
[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "hal-reboot#2" }]
text = """HAL-9000's lens light glows bright red with a yellow center. Lights on several panels now flash in sequence; a boot sequence scrolls rapidly up the display."""

# after player speaks to HAL with three modules inserted
[[rooms.overlays]]
conditions = [{ type = "flagSet", flag = "hal-reboot#3" }]
text = """The light in HAL-9000's lens glows an intense red and seems to stare through you and into the monolith. Various status notifications cycle on the nearby monitor."""

[rooms.exits.east]
to = "corridor-south"
